APRENDE CON ELI
SERIES TEMPORALES

aprendeconeli.com

Series Temporales
TABLA DE CONTENIDO
Primeras nociones ........................................................................................................................................ 2
Serie estacionaria ..................................................................................................................................... 3
Serie no estacionaria ................................................................................................................................ 4
Prueba Dickey - Fuller de estacionariedad ............................................................................................... 5
Estacionalidad........................................................................................................................................... 6
AutocorrelaciÃ³n ........................................................................................................................................ 8
Ruido Blanco ............................................................................................................................................. 8
ACF............................................................................................................................................................ 9
PACF........................................................................................................................................................ 10
Modelos ...................................................................................................................................................... 11
Â¿CÃ³mo seleccionar el modelo mÃ¡s apropiado? ...................................................................................... 11
Modelo Autorregresivo AR ..................................................................................................................... 12
Â¿CÃ³mo saber si debemos incluir mÃ¡s retrasos y cuÃ¡ntos? ................................................................. 13
Modelo de Medias MÃ³viles MA ............................................................................................................. 13
Â¿CÃ³mo saber si debemos incluir mÃ¡s retrasos y cuÃ¡ntos? ................................................................. 14
Modelo Autorregresivo de Medias MÃ³viles ARMA ................................................................................ 14
Modelo Autorregresivo Integrado de Medias MÃ³viles ARIMA .............................................................. 14
Modelos con componente estacional SARMA y SARIMA ....................................................................... 15
Modelos MAX ......................................................................................................................................... 15
Modelos VAR .......................................................................................................................................... 16
Modelos ARCH y GARCH ......................................................................................................................... 16
Auto arima .................................................................................................................................................. 18
LibrerÃ­as Python .......................................................................................................................................... 19
LibrerÃ­as R ................................................................................................................................................... 19

1

PRIMERAS NOCIONES

Vamos a comenzar con la definiciÃ³n de serie temporal. Una serie de tiempo
es una secuencia de informaciÃ³n que pone en correspondencia un perÃ­odo
de tiempo a cada valor.
El valor puede ser prÃ¡cticamente cualquier cosa medible que dependa del
tiempo de alguna manera. Como por ejemplo precios, humedad, o nÃºmero
de personas.
No existen limitaciones con respecto al tiempo total de nuestras series de
tiempo. Todo lo que necesitamos es un punto de partida y un punto final.
Entre esos dos puntos, habrÃ¡ muchos otros puntos. El intervalo de tiempo
entre un punto en el tiempo y el siguiente, se llama perÃ­odo de tiempo.
Con quÃ© periodicidad los valores del conjunto de datos se registran, se
conoce como la frecuencia del conjunto de datos. Para poder analizar series
temporales de una manera significativa, todos los perÃ­odos de tiempo deben
ser iguales y claramente definidos, lo que darÃ­a como resultado una
frecuencia constante. Esta frecuencia es una medida del tiempo y puede
variar desde unos pocos milisegundos hasta varias dÃ©cadas. Sin embargo,
veremos los mÃ¡s usuales son cada minuto, cada hora, cada dÃ­a, cada semana,
cada mes, cada cuatrimestre, cada aÃ±o, etc.
AdemÃ¡s, se espera que los patrones que se observen en las series de tiempo
persistan o continÃºen existiendo en el futuro.
Un ejemplo muy usual son los datos meteorolÃ³gicos que suelen hacer frente
a la tarea de pronosticar el clima durante varios dÃ­as hacia el futuro. Para
hacer predicciones precisas de manera consistente, hay que analizar datos
pasados. Pero claro, si los datos no se ordenan cronolÃ³gicamente, encontrar
el patrÃ³n correcto serÃ­a extremadamente difÃ­cil. Por ejemplo, simplemente
conocer la temperatura mÃ¡s alta de los Ãºltimos cinco dÃ­as serÃ­a inÃºtil, a
menos que sepamos quÃ© valor de temperatura corresponde a cada dÃ­a.
En el mundo de los negocios los datos de series de tiempo se aplican
muchÃ­simo, en anÃ¡lisis de finanzas para los inversores y los propietarios de
2

las empresas. Es crucial determinar si los precios arrojan ganancias y las
ventas aumentarÃ¡n o disminuirÃ¡n en el futuro. Por lo tanto, un tema comÃºn
en el anÃ¡lisis de series de tiempo es determinar la estabilidad o la volatilidad
de los mercados financieros.

SERIE ESTACIONARIA

La figura es un ejemplo de una serie estacionaria. Da el rendimiento mensual
promedio de la Bolsa de Madrid durante el perÃ­odo de 1988 a 2000 medido
por el Ãndice General. Observe que los valores de la serie parecen moverse
alrededor de un rendimiento mensual fijo. No hay tendencias crecientes o
decrecientes con el tiempo.

3

SERIE NO ESTACIONARI A

Sin embargo, este otro ejemplo muestra una serie que, a diferencia de la
anterior, no es claramente estable en el tiempo, y es lo que llamamos no
estacionario. La serie corresponde a la poblaciÃ³n espaÃ±ola mayor de 16
aÃ±os, al final de cada trimestre durante el perÃ­odo de 1977 a 2000. Observe
en el grÃ¡fico que la serie no es estable, ya que su nivel aumenta con el
tiempo. Decimos que la serie tiene una tendencia clara y positiva. La mayorÃ­a
de las series econÃ³micas y sociales no son estacionarias (estables) y
muestran tendencias. En este caso, la tendencia es aproximadamente lineal,
aunque la pendiente de la lÃ­nea que encajamos en la primera mitad de la
muestra serÃ­a algo mayor que la que obtendrÃ­amos en el segundo. Esto
sugiere que quizÃ¡s el crecimiento anual de la poblaciÃ³n estÃ¡ cambiando con
el tiempo. La tendencia de la serie serÃ­a entonces variable en el tiempo en
lugar de constante. Esta propiedad es tÃ­pica en series reales en la prÃ¡ctica,
donde es poco probable que observemos una tendencia constante durante
largos perÃ­odos de observaciÃ³n.

4

La no estacionariedad puede ser de diferentes formas:

Una serie es estacionaria cuando es estable a lo largo del tiempo, es decir,
cuando la media y la varianza son constantes en el tiempo y, ademÃ¡s, no
presenta tendencia. Esto se refleja grÃ¡ficamente en que los valores de la
serie tienden a oscilar alrededor de una media constante y la variabilidad
con respecto a esa media tambiÃ©n permanece constante en el tiempo.
La series NO estacionarias son series en las cuales la tendencia y/o
variabilidad cambian en el tiempo. Los cambios en la media determinan una
tendencia a crecer o decrecer a largo plazo, por lo que no oscilarÃ­a alrededor
de un valor constante.

PRUEBA DICKEY - FULLER DE ESTACIONA RIEDAD

Para llevar a cabo un anÃ¡lisis adecuado de series de tiempo es vital
determinar si los datos siguen un proceso estacionario o no estacionario. Por
suerte para nosotros, en el siglo XX, los estadÃ­sticos David Dickey y Wayne
Fuller desarrollaron una prueba para ayudarnos. El mÃ©todo para verificar si
un conjunto de datos proviene de un proceso estacionario, se conoce como
la prueba Dickey-Fuller o prueba de DF en abreviatura.
La prueba estÃ¡ basada en un contraste de hipÃ³tesis. Vamos a tener como
hipÃ³tesis nula que la serie es No Estacionaria. Con lo cual la alternativa es
que sÃ­ lo es.

5

Cuando hacemos el contraste de hipÃ³tesis, siempre tenemos que calcular el
valor de un estadÃ­stico de prueba, que dependerÃ¡ de los valores de la
muestra y de nuestra hipÃ³tesis nula.
El valor del estadÃ­stico se compara con un valor crÃ­tico en la tabla Dickey
Fuller. Si el estadÃ­stico de prueba o de contraste es inferior al valor crÃ­tico
rechazamos la hipÃ³tesis nula. Lo que significa que entonces los datos
provienen de un proceso estacionario.
Otra manera de llegar a estas conclusiones es a travÃ©s del p-valor. El p-valor
se puede interpretar como el valor que representa cuÃ¡n probable es la
hipÃ³tesis nula. Si es un valor muy cercano a cero significa que esa hipÃ³tesis
es poco probable y habrÃ­a que rechazarla.
Â¿CÃ³mo sabemos si es un valor muy bajo, pero suficiente para rechazar la
HipÃ³tesis nula?
Porque siempre que hagamos algo en inferencia vamos a tener un nivel de
confianza, por ejemplo, el 95%, y lo que le falta a eso para llegar al 100% es
nuestro nivel de significaciÃ³n, es decir 5%=0.05. Entonces compararÃ­amos el
p-valor con el nivel de significaciÃ³n. Si es mÃ¡s pequeÃ±o diremos que es
suficientemente bajo para rechazar la HipÃ³tesis nula.
En Python lo haremos con el mÃ©todo sts.adfuller del paquete stattools.
En R lo haremos con la funciÃ³n adf.test del paquete tseries.

ESTACIONALIDAD

La estacionalidad sugiere que ciertas tendencias aparecerÃ¡n de forma cÃ­clica.
Por ejemplo, las temperaturas suben y bajan segÃºn las horas del dÃ­a y los
meses del aÃ±o. Estos son dos ejemplos distintos de patrones estacionales
que observamos en nuestra vida, el cambio durante el dÃ­a y el cambio
durante un aÃ±o completo.

6

Hay varias formas de comprobar si existe estacionalidad.
Un enfoque es descomponer la secuencia de la serie temporal en tres
efectos.
1. Tendencia
2. Estacional
3. Residual
Por supuesto, la tendencia representa el patrÃ³n consistente en todos los
datos. El efecto estacional expresa todos los efectos cÃ­clicos debido a la
estacionalidad. Finalmente, los residuos son el error de predicciÃ³n, o la
diferencia entre los datos reales y el modelo que ajustamos.
El tipo mÃ¡s simple de descomposiciÃ³n es la descomposiciÃ³n clÃ¡sica. Con ella
esperamos una relaciÃ³n lineal entre las tres partes y la serie de tiempo
observada. Hay dos enfoques principales en la descomposiciÃ³n clÃ¡sica:
1. Aditivo
2. Multiplicativo
El aditivo supone que, para cualquier perÃ­odo de tiempo, el valor observado
es la suma de la tendencia, mÃ¡s el efecto estacional, mÃ¡s el residual, para
ese perÃ­odo. Del mismo modo, la descomposiciÃ³n multiplicativa supone que
la serie original es un producto de los tres efectos.
El Python, el paquete de modelos de estadÃ­stica incluye un mÃ©todo llamado
seasonal_decompose que significa descomposiciÃ³n estacional, que coge una
serie de tiempo y la divide en esos tres efectos.
En R usaremos la funciÃ³n decompose del paquete stats.
7

AUTOCORRELACIÃ“N

Como su nombre lo indica, al autocorrelaciÃ³n representa la correlaciÃ³n entre
una secuencia y sÃ­ misma. MÃ¡s precisamente, mide el nivel de semejanza
entre una secuencia de hace varios perÃ­odos y los datos reales.
La secuencia de hace varios perÃ­odos atrÃ¡s se llama â€œretrasoâ€ o â€œlagâ€ en
inglÃ©s, porque es una versiÃ³n retrasada de la original. Por ejemplo, si
calculamos la autocorrelaciÃ³n para una serie de tiempo con frecuencia
diaria, estamos determinando cuÃ¡ntos de los valores de ayer se parecen a
los valores de hoy. Si la frecuencia es, en cambio, anual, entonces la
autocorrelaciÃ³n medirÃ¡ las similitudes de aÃ±o en aÃ±o.

RUIDO BLANCO

El ruido blanco es un tipo especial de serie temporal donde los datos no
siguen un patrÃ³n. Como en el ruido blanco no encontramos ningÃºn patrÃ³n,
no se puede predecir en el futuro. Es decir, el ruido blanco no es predecible.

AdemÃ¡s, para que una serie se pueda considerar como ruido blanco,
necesita satisfacer las siguientes tres condiciones:
1. Media constante
8

2. Varianza constante
3. No tener autocorrelaciones significativas en ningÃºn perÃ­odo.

ACF

En series temporales es vital poder calcular y comparar los valores de
autocorrelaciÃ³n entre diferentes retrasos. Para ello, necesitamos introducir
la funciÃ³n de autocorrelaciÃ³n o ACF (autocorrelation function).
La funciÃ³n de autocorrelaciÃ³n proporciona la autocorrelaciÃ³n para cualquier
retraso que consideremos. La alternativa serÃ­a encontrar manualmente la
correlaciÃ³n entre nuestros datos originales y mÃºltiples retrasos de sÃ­ misma.
En Python usaremos la funciÃ³n plot_acf y en R la funciÃ³n acf.
Un ejemplo serÃ­a:

En el grÃ¡fico, los valores en el eje x representan los retrasos, que en este
caso van hasta 40 ya que eso es lo que se estableciÃ³.
Los nÃºmeros a la izquierda en el eje vertical representan los posibles valores
para el coeficiente de autocorrelaciÃ³n. La correlaciÃ³n solo puede tomar
valores entre -1 y 1.
Las lÃ­neas en el grÃ¡fico representan la autocorrelaciÃ³n entre la serie de
tiempo y una versiÃ³n retrasada de sÃ­ misma. La primera lÃ­nea indica la
autocorrelaciÃ³n con retraso de 1 perÃ­odo de tiempo, la segunda lÃ­nea
9

representa la autocorrelaciÃ³n para hace dos perÃ­odos y asÃ­ sucesivamente.
La primera lÃ­nea es uno porque la correlaciÃ³n entre un valor y sÃ­ mismo
siempre serÃ¡ uno.
El Ã¡rea azul alrededor del eje x representa la significaciÃ³n de los valores de
autocorrelaciÃ³n. Es decir, mide si son significativamente distintos de cero, lo
que sugiere la existencia de autocorrelaciÃ³n para ese retraso especÃ­fico.
Si los coeficientes son significativos, es un indicador de la dependencia del
tiempo en los datos.
La funciÃ³n ACF se utilizarÃ¡ para investigar cuÃ¡ntos retrasos es necesario en
el modelo de medias mÃ³viles. Y para investigar si los residuos son ruido
blanco, es decir, si las correlaciones son no significativas para los residuos.

PACF

La autocorrelaciÃ³n mide la similitud entre una serie temporal y una versiones
anteriores de sÃ­ misma. Sin embargo, los coeficientes tambiÃ©n capturan
efectos de los momentos anteriores de manera indirecta. Por indirecta nos
referimos a todos los demÃ¡s canales a travÃ©s de los cuales los datos del
pasado afectan a los datos actuales. Si deseamos determinar solo la relaciÃ³n
directa entre la serie de tiempo y su versiÃ³n retrasada, necesitamos calcular
la autocorrelaciÃ³n parcial

10

La funciÃ³n PACF se utilizarÃ¡ para investigar cuÃ¡ntos retrasos es necesario en
el modelo autorregresivo.
En Python usaremos la funciÃ³n plot_pacf y en R la funciÃ³n pacf.

MODELOS

DespuÃ©s de un anÃ¡lisis descriptivo y exploratorio de la serie temporal, el
objetivo siguiente, va a ser predecir el futuro en base a un modelo de series
temporales. El procedimiento general es el siguiente:
1. Escoger el modelo
2. Dividir los datos en datos de entrenamiento y datos de prueba.
3. Ajustar el modelo a los datos de entrenamiento.
4. Evaluar el modelo en los datos de prueba.
5. Re-ajustar el modelo con todos los datos
6. Predecir los datos futuros.

Â¿CÃ“MO SELECCIONAR EL MODELO MÃS APROPIADO?

Usualmente comenzamos con un modelo simple y luego lo expandimos
siempre que se cumplan varias condiciones. Obviamente podemos
complejizar el modelo introduciendo mÃ¡s retrasos, pero este modelo mÃ¡s
complejo tendrÃ¡ mÃ¡s coeficientes para estimar. Cuando hagamos esto,
puede ser que el modelo no sea apropiado, por eso una de las cosas que
debemos comprobar es que los nuevos coeficientes sean significativamente
diferentes de cero.
Si eso no es cierto, las estimaciones para estos parÃ¡metros son
esencialmente cero. Por lo tanto, no nos ayudan a estimar valores futuros.
Esto significa que no tienen poder predictivo, por lo que debemos
desecharlo y volver al modelo mÃ¡s simple.
11

Una vez que tengamos varios posibles modelos, debemos compararlos entre
sÃ­. Para determinar si las predicciones de un modelo son significativamente
mejores que las de otro, utilizaremos la inferencia. Donde tendremos una
prueba estadÃ­stica llamada prueba de razÃ³n de log-verosimilitudes o loglikelihood test. Sin embargo, la prueba solo se puede aplicar a modelos con
diferentes grados de libertad (nÃºmero de parÃ¡metros que estima).

Por lo tanto, al comparar varios modelos con el mismo nÃºmero total de
parÃ¡metros estimados, vamos a usar los criterios de informaciÃ³n de cada
uno. Los dos criterios de informaciÃ³n mÃ¡s usados son el AIC y el BIC
AIC: Akaike Information Criteria
BIC: Bayesian Information Criteria
El mejor modelo serÃ¡ el que tenga menor AIC o BIC.
AdemÃ¡s se mirarÃ¡ el valor de la log-verosimilitud (LL: log likelihood) de
ambos modelos en el resumen estadÃ­stico. El mejor modelo serÃ¡ el que
tenga mayor LL.
Por otro lado, si nuestro modelo se ajusta bien, no deberÃ­a haber un efecto
de tendencia que no hayamos tenido en cuenta, esto se traduce en que los
residuos del modelo deben parecerse al ruido blanco, por lo que podemos
concluir que no hay otro patrÃ³n por ahÃ­ escondido. Esto debe comprobarse
a travÃ©s de la prueba DF de estacionariedad, que debe dar positiva a favor
de los residuos siendo estacionarios. Y a travÃ©s de la funciÃ³n de
autocorrelaciÃ³n de los residuos, en la que se deberÃ­a obtener que no hay
correlaciones significativas.

MODELO AUTORREGRESIVO AR

Los modelos autorregresivos predicen el valor actual de nuestra serie
temporal en funciÃ³n de los valores pasados. Un modelo autorregresivo de

12

orden simple, de orden uno, sÃ³lo considerarÃ­a el valor del perÃ­odo anterior,
y el modelo se expresarÃ­a de la siguiente manera:
ğ‘¥ğ‘¡ = ğ‘ + ğœ‘ğ‘¥ğ‘¡âˆ’1 + ğœ–ğ‘¡
Donde ğ‘¥ğ‘¡ es el valor de interÃ©s, del perÃ­odo actual, de nuestra serie de
tiempo, ğ‘ es la constante, ğœ‘ es el coeficiente que debemos estimar, ğœ–ğ‘¡ es el
residuo en el perÃ­odo actual, y ğ‘¥ğ‘¡âˆ’1 es el valor de la serie en el perÃ­odo
anterior.
No funcionan bien si los datos no son estacionarios.

Â¿CÃ“MO SABER SI DEBEM OS INCLUIR MÃS RETRASOS Y CUÃNTOS?

Sabemos que la ACF captura los efectos directos e indirectos del valor
anterior sobre el valor presente. Como queremos un modelo eficiente solo
queremos considerar aquellos retrasos que tengan un efecto directo y
significativo sobre el perÃ­odo presente. Por lo tanto, debemos examinar la
PACF antes de construir un modelo con demasiados coeficientes de retraso.

MODELO DE MEDIAS MÃ“VILES MA

Los modelos de medias mÃ³viles predicen el valor actual de nuestra serie
temporal en funciÃ³n de los residuos pasados. Un modelo de medias mÃ³viles
de orden simple, de orden uno, sÃ³lo considerarÃ­a el valor del residuo en el
perÃ­odo anterior, y el modelo se expresarÃ­a de la siguiente manera:
ğ‘¥ğ‘¡ = ğ‘ + ğœƒğœ–ğ‘¡âˆ’1 + ğœ–ğ‘¡
Donde ğ‘¥ğ‘¡ es el valor de interÃ©s, del perÃ­odo actual, de nuestra serie de
tiempo, ğ‘ es la constante, ğœƒ es el coeficiente que debemos estimar, ğœ–ğ‘¡ es el
residuo en el perÃ­odo actual, y ğœ–ğ‘¡âˆ’1 es el valor del residuo en el perÃ­odo
anterior.
No funcionan bien si los datos no son estacionarios.

13

Â¿CÃ“MO SABER SI DEBEM OS INCLUIR MÃS RETRASOS Y CUÃNTOS?

En este caso, vamos a mirar la ACF.

MODELO AUTORREGRESIVO DE MEDIAS MÃ“VILES ARMA

Es la combinaciÃ³n de ambos modelos AR y MA, con lo cual un modelo ARMA
tendrÃ­a dos Ã³rdenes (p,q), donde p es el orden de la parte autorregresiva y
q es el orden de la parte de medias mÃ³viles. Un modelo ARMA de orden
simple, un ARMA(1,1) serÃ­a:
ğ‘¥ğ‘¡ = ğ‘ + ğœ‘ğ‘¥ğ‘¡âˆ’1 + ğœƒğœ–ğ‘¡âˆ’1 + ğœ–ğ‘¡
Los modelos ARMA funcionan mejor si la serie es estacionaria.

MODELO AUTORREGRESIVO INTEGRADO DE MEDIAS MÃ“VILES ARIMA

Es un modelo ARMA aplicado al resultado de integrar la serie temporal un
nÃºmero de veces determinado, por el orden de integraciÃ³n. Es decir, un
modelo ARIMA de orden (p,d,q) consiste en integrar la serie original d veces,
y luego ajustar un modelo ARMA(p,q) a esa serie integrada. El objetivo de la
integraciÃ³n es obtener una serie estacionaria, ya que los modelos ARMA
funcionan peor para series no estacionarias.
En este modelo no podemos mirar la ACF ni la PACF para mÃ¡s o menos saber
el orden. Entonces habrÃ­a que hacer lo siguiente:
1. Empezar con el ARIMA(1,1,1)
2. Examinar los residuos
3. Complejizar el modelo segÃºn lo que hayamos visto en los residuos
4. Ir bajando el nÃºmero de componentes hasta el modelo simple.
Cuidado cuando integramos la serie, porque por cada integraciÃ³n, perdemos
una observaciÃ³n.
14

MODELOS CON COMPONENTE ESTAC IONAL SARMA Y SARIMA

Vamos a recordar que la estacionalidad ocurre cuando ciertos patrones
aparecen periÃ³dicamente, por ejemplo, algo que se repite cada aÃ±o. Por lo
tanto, en este caso, un modelo simple autorregresivo AR no describirÃ¡ bien
los datos. Â¿Por quÃ©? Porque sÃ³lo considera el valor del perÃ­odo anterior para
estimar el periodo actual.
Â¿Entonces quÃ© harÃ­amos en este caso? NecesitarÃ­amos incluir los valores
registrados durante el perÃ­odo de hace un aÃ±o.
Entonces primero necesitamos definir el orden estacional que es ese ciclo
que sospechamos que se repite. Por ejemplo, si nuestros datos son diarios,
y el ciclo se repite cada semana, un buen orden serÃ­a 7. Si nuestros datos son
mensuales y observamos una repeticiÃ³n anual, un buen orden serÃ­a 12.
Tendremos una variante estacional para todos los modelos que hemos
estudiado: SARMA, SARIMA. Y, por ejemplo, un SARIMA tendrÃ­a orden
(p,d,q)(P,D,Q,s), donde p,d,q son los Ã³rdenes no estaciones del modelo y
P,D,Q son los Ã³rdenes estacionales, que se refieren a los retrasos que se
aÃ±aden respecto al orden estacional s.

Ejemplo de ğ‘†ğ´ğ‘…ğ¼ğ‘€ğ´(1,0,2)(2,0,1,5):
ğ‘¥ğ‘¡ = ğ‘ + ğœ‘1 ğ‘¥ğ‘¡âˆ’1 + ğœƒ1 ğœ–ğ‘¡âˆ’1 + ğœƒ2 ğœ–ğ‘¡âˆ’2 + ğ›·1 (ğ‘¥ğ‘¡âˆ’5 + ğœ‘1 ğ‘¥ğ‘¡âˆ’6 )
+ ğ›·2 (ğ‘¥ğ‘¡âˆ’10 + ğœ‘1 ğ‘¥ğ‘¡âˆ’11 ) + ğ›©1 (ğœ–ğ‘¡âˆ’5 + ğœƒ1 ğœ–ğ‘¡âˆ’6 + ğœƒ2 ğœ–ğ‘¡âˆ’7 ) + ğœ–ğ‘¡

MODELOS MAX

Los modelos MAX son modelos que consideran informaciÃ³n exÃ³gena para
explicar la variable endÃ³gena (la serie que estemos estudiando). Vamos a

15

tener versiones MAX de todos los modelos estudiados: ARMAX, ARIMAX,
SARMAX y SARIMAX.
Ejemplo, modelo ARMAX de orden simple, donde ğ‘Œ es la variable exÃ³gena:
ğ‘¥ğ‘¡ = ğ‘ + ğ›½ğ‘Œ + ğœ‘1 ğ‘¥ğ‘¡âˆ’1 + ğœƒ1 ğœ–ğ‘¡âˆ’1 + ğœ–ğ‘¡
La variable exÃ³gena puede ser una serie o varias series (varias variables).
Por lo general mejorar mucho al modelo, pero tienen la desventaja de que
para predecir datos de futuro, como en el futuro no conocemos los valores
de esas variables exÃ³genas, no podrÃ­amos usar esto, a no ser que estimemos
de alguna forma los valores de esas variables extra. Esto tiene que ver con
otros modelos que se llaman VAR.

MODELOS VAR

Es un modelo multivariante al que le pasamos varias variables para estimar
cada serie en dependencia de las demÃ¡s. Por ejemplo para estimar los
precios de mercado, cada uno, en dependencia del otro conjunto de precios.

MODELOS ARCH Y GARCH

Son modelos para estimar la volatilidad (variabilidad y cambios) en una serie
temporal. Cuando los inversores estÃ¡n interesados en hacer grandes
compras a largo plazo, a menudo buscan estabilidad. Es por eso por lo que
surge la necesidad de modelos especiales que midan la volatilidad. Para
empezar, cuando hablamos de volatilidad, estamos hablando de la magnitud
de los residuos. No nos importa si son positivos o negativo. Solo nos importa
cuÃ¡n volÃ¡tiles sean nuestras predicciones. Dado que buscamos estabilidad,
eso explica por quÃ© la volatilidad es sinÃ³nimo de variaciÃ³n y por quÃ©
queremos para evitarlo una varianza mÃ¡s baja, lo que indicarÃ­a mayor
16

estabilidad que a su vez sugiere un riesgo menor. Por lo tanto, medir la
volatilidad es clave cuando queremos seguridad en nuestras inversiones.
Una soluciÃ³n es propuesta por los modelos autorregresivos con
heterocedasticidad condicional, que en ingles se dirÃ­a Autoregressive
Conditional Heteroscedasticity Model, o modelo ARCH.
Lo primero, es que, a diferencia de la familia ARIMA, los ARCH consisten en
varias ecuaciones, una para la media y otra para la varianza.
La ecuaciÃ³n para la varianza de un ARCH(q), que mide la varianza condicional
en funciÃ³n de residuos pasados, es:
2
2
2
ğœğ‘¡2 = ğ›¼0 + ğ›¼1 ğœ–ğ‘¡âˆ’1
+ ğ›¼2 ğœ–ğ‘¡âˆ’2
+ â‹¯ + ğ›¼ğ‘ ğœ–ğ‘¡âˆ’ğ‘

Y la ecuaciÃ³n para la media junto con la que estima el valor actual de la serie
es:
ğ‘¥ğ‘¡ = ğ‘0 + ğœ‘1 ğœ‡ğ‘¡âˆ’1 + ğœ–ğ‘¡

Para este mÃ©todo se investiga la PACF.
Una posible mejora de los modelos ARCH es incluir tambiÃ©n valores pasados,
ademÃ¡s de los residuos al cuadrado. Pero Â¿cuÃ¡les serÃ­an exactamente estos
valores pasados? Pensemos, incluir valores pasados de los retornos en este
caso no tendrÃ­a mucho sentido ya que generalmente contamos con ellos en
la ecuaciÃ³n media. Si queremos trazar una idea paralela a lo que hacÃ­amos
con el modelo ARMA, debemos incluir algunos componentes
autorregresivos, y como estamos trabajando con varianzas, vamos a incluir
esas variaciones condicionales pasadas para ayudarnos a explicar las
variaciones condicionales actuales. Ya que los perÃ­odos de alta volatilidad
son seguidos por perÃ­odos de alta volatilidad y los perÃ­odos de baja
volatilidad son seguidos por tales con baja volatilidad, eso significa que
agregar variaciones condicionales pasadas deberÃ­a servir como un gran
punto de referencia para las estimaciones del presente. Una varianza
condicional pasada ya incluirÃ­a en sÃ­ misma los efectos de los residuos al
17

cuadrado anteriores. Esto harÃ­a que agregar mÃ¡s residuos al cuadrado
anteriores sea redundante.
Es por eso por lo que el siguiente modelo se llama Generalized
Autorregresive Conditional Heteroscedasticity Model o simplemente GARCH.
El modelo GARCH es simplemente una extensiÃ³n del modelo ARCH, donde
agregamos varianzas condicionales pasadas a la ecuaciÃ³n de varianza. La
intuiciÃ³n detrÃ¡s de esto proviene que la volatilidad pasada nos da
informaciÃ³n patrones consecutivos, por lo tanto, si incluimos la varianza
condicional del Ãºltimo perÃ­odo tendremos una especie de punto de
referencia sobre quÃ© debemos esperar.
Un GARCH(1,1) tendrÃ­a como ecuaciÃ³n de la varianza:
2
2
ğœğ‘¡2 = ğ›¼0 + ğ›¼1 ğœ–ğ‘¡âˆ’1
+ ğ›½1 ğœğ‘¡âˆ’1

Donde ğ›½1 es el coeficiente del nuevo tÃ©rmino que hemos incluido explicando
la varianza condicional del perÃ­odo anterior.
Cuando se trata de la variaciÃ³n de precios del mercado, ningÃºn modelo
GARCH de orden superior supera al modelo GARCH(1,1) simple.

AUTO ARIMA

Es el mÃ©todo automÃ¡tico para estimar el mejor modelo que se ajusta a la
serie temporal. Por defecto tiene parÃ¡metros fijados, como por ejemplo el
orden mÃ¡ximo que puede tomar el modelo. En la prÃ¡ctica, se recomienda
hacer un anÃ¡lisis exploratorio antes para ver si hay un orden mÃ¡ximo
superior que deberÃ­amos considerar, superior al que viene por defecto en la
funciÃ³n.
Pros:
1. Ahorra tiempo
2. Elimina ambigÃ¼edades
3. Reduce el riesgo de error humano

18

Contras:
1. Poner ciegamente la fe en un solo modelo
2. No se ve realmente si los demÃ¡s modelos funcionan mejor o no
3. Requiere cierta experiencia en el tema
4. Error humano
Python: auto_arima del paquete pmdarima.
R: auto.arima del paquete forecast.

LIBRERÃAS PYTHON

1. ARMA
2. ARIMA
3. SARIMAX
4. ARCH
5. Auto arima
6. Prophet de Facebook.
7. Yfinance

LIBRERÃAS R

1. Paquete lubridate, que no es especifico de series temporales sino mÃ¡s
bien de pre-procesado de datos. Lo usaremos para formatear la fecha
y el tiempo.
2. Paquete tseries, que tambiÃ©n nos permitirÃ¡ trabajar con series
temporales, modelar y graficar. TambiÃ©n lo usaremos para testear por
estacionariedad.
3. Paquete forecast que tiene muchas funciones, como la funciÃ³n Auto
Arima que es un mÃ©todo de modelado automÃ¡tico. TambiÃ©n hay un
montÃ³n de herramientas para limpiar el dataset de datos faltantes, de
atÃ­picos o outliers, tiene muchas herramientas grÃ¡ficas para modelar
series de tiempo y permite modelar los pronÃ³sticos hacia el futuro.
19

